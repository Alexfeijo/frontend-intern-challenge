window.App=window.App||{},App.TopFive={init:function(){this.getJsonData(),this.fetchElements(),this.bindUIEvents()},fetchElements:function(){this.$list=$(".top-list")},getJsonData:function(){this.$data=[{id:"76291",hits:1922,url:"http://google.com",shortUrl:"http://chr.dc/aUx71"},{id:"70001",hits:1519,url:"http://facebook.com",shortUrl:"http://chr.dc/qy61p"},{id:"19122",hits:1320,url:"http://chaordic.com.br",shortUrl:"http://chr.dc/qy5k9"},{id:"23094",hits:1003,url:"http://globo.com",shortUrl:"http://chr.dc/9dtr4"},{id:"55324",hits:997,url:"http://youtube.com",shortUrl:"http://chr.dc/1w5tg"},{id:"66761",hits:765,url:"http://terra.com.br",shortUrl:"http://chr.dc/u9jh3"},{id:"10743",hits:722,url:"http://uol.com.br",shortUrl:"http://chr.dc/y81xc"},{id:"70931",hits:487,url:"http://twitter.com",shortUrl:"http://chr.dc/7tmv1"},{id:"21220",hits:311,url:"http://diariocatarinense.com.br",shortUrl:"http://chr.dc/87itr"},{id:"87112",hits:130,url:"http://bing.com",shortUrl:"http://chr.dc/9opw2"}]},bindUIEvents:function(){var t="";this.$list.html(""),$(this.$data).each(function(r,h){r<5&&(t+="<div class='top-five-item'><span class='text-url'>"+h.shortUrl+"</span><span class='text-clicks'>"+h.hits+"</span></div>")}),this.$list.html(t),$("#btn-encurtar").on("click",this,function(t){$("#input-url").fadeOut(300),$("#btn-encurtar").fadeOut(300),t.preventDefault();var r=$("#input-url").val(),h=["a","b","c","d","e","f","g","h","y","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9"];$(t.data.$data).each(function(t,c){if(r===c.url)return $("#input-url").val(c.shortUrl),$("#btn-encurtar").text("COPIAR"),!1;var n="http://chr.dc/";for(i=0;i<6;i++)n+=h[Math.floor(Math.random()*h.length)];return $("#input-url").val(n),$("#btn-encurtar").text("COPIAR"),!1}),$("#input-url").fadeIn(300),$("#btn-encurtar").fadeIn(300)})}},App.TopFive.init();